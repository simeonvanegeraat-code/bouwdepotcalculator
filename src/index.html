<!doctype html>
<html lang="nl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Nieuwbouw kosten (Bruto vs Netto) | Bouwdepotcalculator</title>
    <meta name="robots" content="index,follow" />
    <link rel="stylesheet" href="/styles/main.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <div class="brand">
          <div class="logo-dot"></div>
          <div>
            <div class="brand-name">Bouwdepotcalculator</div>
            <div class="brand-sub">Cashflow tijdens de bouw</div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section id="tool" class="section">
        <div class="container">
          <div class="grid tool-grid">
            
            <section class="card">
              <div class="card-head">
                <h3>Hypotheekgegevens</h3>
                <p class="muted">Vul je leningdelen en depot in.</p>
              </div>

              <form class="form" id="calc-form">
                <div class="field">
                  <label for="grondbedrag">Totale Hypotheeksom (Grond + Bouw)</label>
                  <input id="grondbedrag" placeholder="Bijv. 550000" inputmode="decimal" />
                  <div class="hint">Het totale bedrag dat je leent bij de bank.</div>
                </div>

                <div class="field">
                  <label for="hypotheekrente">Hypotheekrente (%)</label>
                  <input id="hypotheekrente" placeholder="Bijv. 4.2" inputmode="decimal" />
                </div>

                <div class="field">
                  <label for="aflossing">Aflossing (per maand, optioneel)</label>
                  <input id="aflossing" placeholder="Bijv. 800" inputmode="decimal" />
                  <div class="hint">Vul 0 in bij aflossingsvrij. Dit bedrag komt bovenop de rente.</div>
                </div>

                <hr style="border:0; border-top:1px solid var(--line); margin: 16px 0;">

                <div class="field">
                  <label for="bouwdepot">Waarvan in Bouwdepot</label>
                  <input id="bouwdepot" placeholder="Bijv. 300000" inputmode="decimal" />
                </div>

                <div class="field">
                  <label for="depotrente">Rente vergoeding depot (%)</label>
                  <input id="depotrente" placeholder="Bijv. 3.2" inputmode="decimal" />
                  <div class="hint">Vaak 1% lager dan je hypotheekrente.</div>
                </div>

                <div class="field">
                  <label for="bouwtijd">Bouwtijd (maanden)</label>
                  <input id="bouwtijd" placeholder="Bijv. 12" inputmode="numeric" />
                </div>

                <div class="field">
                  <label>Opnameverloop</label>
                  <div class="radio-group">
                    <label class="radio-opt"><input type="radio" name="withdrawal-mode" value="linear" checked> Gelijkmatig</label>
                    <label class="radio-opt"><input type="radio" name="withdrawal-mode" value="custom"> Aangepast</label>
                  </div>
                </div>

                <div class="field" id="field-custom-schedule" style="display:none;">
                   <label>Vul percentages in per maand</label>
                   <div id="custom-month-grid" class="month-grid"></div>
                   <div class="hint">Totaal: <span id="schedule-total">0%</span> (moet 100% zijn)</div>
                   <div class="error" id="err-custom"></div>
                </div>

                <div class="actions">
                  <button type="button" class="btn btn-primary" id="btn-calc">Bereken Dashboard</button>
                  <button type="reset" class="btn btn-ghost">Reset</button>
                </div>
                <div class="hint" id="form-status"></div>
              </form>
            </section>

            <section class="card">
              <div class="card-head">
                <h3>Cashflow Overzicht</h3>
                <p class="muted">Wat schrijf je daadwerkelijk over per maand?</p>
              </div>

              <div class="kpi-grid">
                <div class="kpi">
                  <div class="kpi-label">Start Maandlast</div>
                  <div class="kpi-value" id="kpi-start">€ —</div>
                </div>
                <div class="kpi">
                  <div class="kpi-label">Eind Maandlast</div>
                  <div class="kpi-value" id="kpi-end">€ —</div>
                </div>
                <div class="kpi">
                  <div class="kpi-label">Totaal aan Rente betaald</div>
                  <div class="kpi-value" id="kpi-total-interest">€ —</div>
                  <div class="mini-note" style="font-size:11px; color:var(--muted)">Na aftrek vergoeding</div>
                </div>
              </div>

              <div class="chart-wrap">
                <div class="chart-head">
                  <div class="chart-title">Verloop Maandlasten</div>
                  <div class="chart-badge">Blauw = Wat je betaalt</div>
                </div>
                <div class="chart-canvas">
                  <canvas id="net-chart"></canvas>
                </div>
              </div>

              <div class="download-row">
                 <button class="btn btn-ghost" id="btn-dl-pdf" disabled>Download PDF Rapport</button>
              </div>
            </section>

          </div>
        </div>
      </section>
      
      <section class="section section-alt">
        <div class="container prose">
           <h2>Hoe werkt dit?</h2>
           <p>Je betaalt elke maand rente (en aflossing) over je <strong>volledige hypotheek</strong>. Zolang er geld in je bouwdepot zit, krijg je daarover rente terug. Dit wordt met elkaar verrekend.</p>
           <p>In de grafiek zie je de <strong>Rode lijn</strong> (je bruto verplichting aan de bank) en de <strong>Blauwe lijn</strong> (wat je netto betaalt na de vergoeding uit het depot).</p>
        </div>
      </section>
    </main>

    <div class="snackbar" id="snackbar"></div>
    <script type="module" src="/js/main.js"></script>
  </body>
</html>